function sample_sample(e){$(".sample_element").eq(e).each(function(){this.play()})}function set_audio_elements(){if(0==$(".audio_tags").find(".sample_element").length)for(var e=0;e<selected_options.length;e++)$(".audio_tags").append('<audio class="sample_element" src="samples/'+sample_directories[e].directory+"/"+selected_options[e]+'" preload="auto"></audio>');else for(e=0;e<selected_options.length;e++)-1==$(".sample_element").eq(e).attr("src").indexOf(selected_options[e])&&($(".sample_element").eq(e).before('<audio class="sample_element" src="samples/'+sample_directories[e].directory+"/"+selected_options[e]+'" preload="auto"></audio>'),$(".sample_element").eq(e).next().remove())}function calculate(e){calculated_tempo=1e3/(e/60)/2}function clear_selections(){sequence_sample_paths=[];for(var e=activated_pad_pieces=0;e<$("body").find(".pad").length;e++)for(var t=0;t<8;t++)sequence_sample_paths.push(["samples/none.mp3"]);$(".pad").find(".pad_piece").each(function(){$(this).css({"min-width":"25px",margin:"5px",height:"25px",opacity:"1.0",background:"aliceblue","border-radius":"2px"}),$(this).attr({"data-state":"inactive"})})}function play_selected_sample(e,t){$('.sample_element[src*="'+e+'"]').each(function(){if(1<t&&(this.volume=1/t),0<this.duration){var e=this.cloneNode();e.play(),setTimeout(function(){e.remove()},16*calculate_tempo)}else this.play()})}function play_sequence(e){e.find('.pad_piece[id^="'+current_column_in_sequence+'"]').each(function(){if("active"===$(this).attr("data-state")){for(var e=0;e<sequence_sample_paths[current_column_in_sequence-1].length;e++){play_selected_sample(sequence_sample_paths[current_column_in_sequence-1][e],sequence_sample_paths[current_column_in_sequence-1].length)}$(this).css({opacity:"0.25","box-shadow":"0 1px 0.5px rgba(00, 00, 00, 0.75)"});var t=$(this);setTimeout(function(){t.css({opacity:"1.0","box-shadow":"none"})},calculated_tempo)}else{(t=$(this)).css({opacity:"0.25","box-shadow":"none",background:"white"}),setTimeout(function(){t.css({opacity:"1.0","box-shadow":"none",background:"aliceblue"})},calculated_tempo)}}),current_column_in_sequence%8==0&&(e.is(":last-of-type")?(e=$(".pad").eq(0),current_column_in_sequence=0):e=e.next(".pad")),current_column_in_sequence++,setTimeout(function(){sequence_running&&(e==$(".pad:last")?play_sequence($(".pad").eq(0)):play_sequence(e))},calculated_tempo)}!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ClipboardJS=t():e.ClipboardJS=t()}(this,function(){return function(a){var s={};function n(e){if(s[e])return s[e].exports;var t=s[e]={i:e,l:!1,exports:{}};return a[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}return n.m=a,n.c=s,n.i=function(e){return e},n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,a){var s,n,i,o;o=function(e,t){"use strict";var a,s=(a=t)&&a.__esModule?a:{default:a};var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var i=function(){function s(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e}}(),o=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.resolveOptions(e),this.initSelection()}return i(t,[{key:"resolveOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var a=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=a+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,s.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,s.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":n(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),t}();e.exports=o},n=[e,a(7)],void 0===(i="function"==typeof(s=o)?s.apply(t,n):s)||(e.exports=i)},function(e,t,a){var u=a(6),m=a(5);e.exports=function(e,t,a){if(!e&&!t&&!a)throw new Error("Missing required arguments");if(!u.string(t))throw new TypeError("Second argument must be a String");if(!u.fn(a))throw new TypeError("Third argument must be a Function");if(u.node(e))return l=t,d=a,(p=e).addEventListener(l,d),{destroy:function(){p.removeEventListener(l,d)}};if(u.nodeList(e))return o=e,c=t,r=a,Array.prototype.forEach.call(o,function(e){e.addEventListener(c,r)}),{destroy:function(){Array.prototype.forEach.call(o,function(e){e.removeEventListener(c,r)})}};if(u.string(e))return s=e,n=t,i=a,m(document.body,s,n,i);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");var s,n,i,o,c,r,p,l,d}},function(e,t){function a(){}a.prototype={on:function(e,t,a){var s=this.e||(this.e={});return(s[e]||(s[e]=[])).push({fn:t,ctx:a}),this},once:function(e,t,a){var s=this;function n(){s.off(e,n),t.apply(a,arguments)}return n._=t,this.on(e,n,a)},emit:function(e){for(var t=[].slice.call(arguments,1),a=((this.e||(this.e={}))[e]||[]).slice(),s=0,n=a.length;s<n;s++)a[s].fn.apply(a[s].ctx,t);return this},off:function(e,t){var a=this.e||(this.e={}),s=a[e],n=[];if(s&&t)for(var i=0,o=s.length;i<o;i++)s[i].fn!==t&&s[i].fn._!==t&&n.push(s[i]);return n.length?a[e]=n:delete a[e],this}},e.exports=a},function(e,t,a){var s,n,i,o;o=function(e,t,a,s){"use strict";var n=c(t),i=c(a),o=c(s);function c(e){return e&&e.__esModule?e:{default:e}}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var p=function(){function s(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e}}();var l=function(e){function s(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this));return a.resolveOptions(t),a.listenClick(e),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,i.default),p(s,[{key:"resolveOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===r(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,o.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new n.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return d("action",e)}},{key:"defaultTarget",value:function(e){var t=d("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return d("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,a=!!document.queryCommandSupported;return t.forEach(function(e){a=a&&!!document.queryCommandSupported(e)}),a}}]),s}();function d(e,t){var a="data-clipboard-"+e;if(t.hasAttribute(a))return t.getAttribute(a)}e.exports=l},n=[e,a(0),a(2),a(1)],void 0===(i="function"==typeof(s=o)?s.apply(t,n):s)||(e.exports=i)},function(e,t){if("undefined"!=typeof Element&&!Element.prototype.matches){var a=Element.prototype;a.matches=a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector}e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},function(e,t,a){var o=a(4);function i(e,t,a,s,n){var i=function(t,a,e,s){return function(e){e.delegateTarget=o(e.target,a),e.delegateTarget&&s.call(t,e)}}.apply(this,arguments);return e.addEventListener(a,i,n),{destroy:function(){e.removeEventListener(a,i,n)}}}e.exports=function(e,t,a,s,n){return"function"==typeof e.addEventListener?i.apply(null,arguments):"function"==typeof a?i.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(e){return i(e,t,a,s,n)}))}},function(e,a){a.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},a.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||a.node(e[0]))},a.string=function(e){return"string"==typeof e||e instanceof String},a.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},function(e,t){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var a=e.hasAttribute("readonly");a||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),a||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var s=window.getSelection(),n=document.createRange();n.selectNodeContents(e),s.removeAllRanges(),s.addRange(n),t=s.toString()}return t}}])}),$(document).ready(function(){$(".play_sequence").click(function(){sequence_running?(sequence_running=!1,current_column_in_sequence=1,$(".pad_piece").each(function(){$(this).css({"min-width":"25px",margin:"5px",height:"25px",opacity:"1.0"})}),$(".play_sequence").val("play sequence")):(sequence_running=!0,calculate(parseInt($(".tempo_field").val())),play_sequence($(".pad").eq(0)),$(".play_sequence").val("pause sequence"))}),$(".tempo_field").on("keydown",function(e){13==e.keyCode&&(e.preventDefault(),calculate(parseInt($(".tempo_field").val())))})});var config={apiKey:"AIzaSyAnQBTNzsGBiAS5BJhDNmRKEJn9QPB4mFA",authDomain:"padseek-oylo-info.firebaseapp.com",databaseURL:"https://padseek-oylo-info.firebaseio.com",projectId:"padseek-oylo-info",storageBucket:"padseek-oylo-info.appspot.com",messagingSenderId:"573441583035"};firebase.initializeApp(config);var database=firebase.database(),sequence_running=!1,calculated_tempo=125,current_column_in_sequence=1,current_sequence_name="",activated_pad_pieces=0,randomize_colors=["#fff8f5","#fef3f3","#f3edf0","#e8e8eb","#f2eff1","#fff2ec","#fde7e7","#e8dbe2","#d2d1d8","#e5dfe3","#ffebe2","#fcdbdb","#ddc9d4","#bcbac5","#d9d0d6","#ffe5d9","#fbd0cf","#d2b7c5","#a6a3b2","#ccc0c8","#ffdfcf","#fac4c3","#c7a5b7","#908c9f","#bfb1bb","#ffd8c6","#fab8b8","#bb94a9","#79758c","#b3a1ad","#ffd2bc","#f9acac","#b0829b","#635e79","#a692a0","#ffccb3","#f8a1a0","#a5708c","#4d4766","#998292","#ffc5a9","#f79594","#9a5e7e","#373053","#8d7385","#ffbfa0","#f68988","#8f4c70","#211940","#806377","#f5f7f9","#f1f5f8","#fbf8f6","#f9f2f1","#ecf0f3","#e4ecf2","#f7f2ed","#f3e6e3","#e3e8ed","#d7e2ec","#f3ebe4","#eed9d5","#dae1e7","#c9d9e5","#efe5dc","#e8cdc7","#d1d9e1","#bcd0df","#ebdfd3","#e2c1b9","#c7d2dc","#afc6d9","#e7d8ca","#ddb4ac","#becad6","#a2bdd3","#e3d2c1","#d7a89e","#b5c3d0","#94b4cc","#dfccb9","#d19c90","#acbbca","#87aac6","#dbc5b0","#cc8f82","#a3b4c4","#7aa1c0","#d7bfa7","#c68374"],randomize_coloring=setInterval(function(){for(var e=randomize_colors[Math.floor(Math.random()*randomize_colors.length)];$(".randomize").css("background")===e;)e=randomize_colors[Math.floor(Math.random()*randomize_colors.length)];$(".randomize").css({background:e}),$(".random_shared_sequence").css({"border-color":e,color:e})},1e3),crash_cymbals=["cinematic-cymbal.mp3","knows-all-cymbal.mp3","oriental-cymbal.mp3","rich-cymbal.mp3","thin-cymbal.mp3","time-cymbal.mp3","wispy-wonky-cymbal.mp3","at-last-cymbal.mp3","dead-cavern-cymbal.mp3","dustless-cymbal.mp3","logical-tine-cymbal.mp3","markarth-cymbal.mp3","match-point-cymbal.mp3","righto-cymbal.mp3","smear-mass-cymbal.mp3","time-will-tell-cymbal.mp3","worthiness-cymbal.mp3","carefree-cymbal.mp3","funny-guy-cymbal.mp3","tiny-gong-cymbal.mp3","washed-cymbal.mp3","worrisome-cymbal.mp3"],ride_cymbals=["grime-ride.mp3","lazy-ride.mp3","steam-ride.mp3","traditional-ride.mp3","tribal-ride.mp3","goofy-ride.mp3","22-inch-ride.mp3","a-big-ride.mp3","abrupt-ride.mp3","alien-ride.mp3","and-thats-the-ride.mp3","charlie-sheen-ride.mp3","chipmunk-glitter-ride.mp3","cigarette-ride.mp3","clean-your-room-ride.mp3","heavier-punchline-ride.mp3","lo-why-ride.mp3","merciful-ride.mp3","predictive-ride.mp3","professional-ride.mp3","punchline-ride.mp3","puny-ride.mp3","sad-times-ride.mp3","satisfied-ride.mp3","sea-salt-ride.mp3","speed-ride.mp3","splash-glide-ride.mp3","timely-bovine-ride.mp3","twisted-shiled-ride.mp3"],open_hi_hats=["meaty-hi-hat.mp3","rich-hi-hat.mp3","substantial-hi-hat.mp3","thin-hi-hat.mp3","amusement-park-hi-hat.mp3","bead-scatter-hi-hat.mp3","chow-time-hi-hat.mp3","laser-thin-hi-hat.mp3","scissor-hi-hat.mp3","sizzling-hi-hat.mp3","speed-juice-hi-hat.mp3","spicy-hi-hat.mp3","steam-tincture-hi-hat.mp3","big-ass-hi-hat.mp3","cheerful-hi-hat.mp3","classy-hi-hat.mp3","cow-house-hi-hat.mp3","egg-beater-hi-hat.mp3","mindful-hi-hat.mp3","prideful-hi-hat.mp3","puttered-hi-hat.mp3","samurai-hi-hat.mp3","spicy-wet-hi-hat.mp3","thin-mechanical-hi-hat.mp3","tired-hi-hat.mp3"],closed_hi_hats=["firm-hi-hat.mp3","light-and-lengthy-hi-hat.mp3","light-hi-hat.mp3","light-spread-hi-hat.mp3","lofi-hi-hat.mp3","razor-thin-hi-hat.mp3","stan-hi-hat.mp3","tinny-hi-hat.mp3","about-to-break-hi-hat.mp3","bad-hi-hat.mp3","hearty-hi-hat.mp3","is-this-even-a-hi-hat.mp3","less-solid-hi-hat.mp3","loud-af-hi-hat.mp3","mad-hi-hat.mp3","no-mess-hi-hat.mp3","pop-cap-hi-hat.mp3","quick-and-sloppy-hi-hat.mp3","razor-sharp-hi-hat.mp3","rude-hi-hat.mp3","sass-cave-hi-hat.mp3","solid-hi-hat.mp3","spine-sprinkling-hi-hat.mp3","tiny-hi-hat.mp3","trap-hi-hat.mp3","vinyl-hi-hat.mp3","wimpy-hi-hat.mp3","burnt-hi-hat.mp3","dinky-hi-hat.mp3","dust-monkey-hi-hat.mp3","halt-hi-hat.mp3","nice-and-dry-hi-hat.mp3","one-word-hi-hat.mp3","outspoken-hi-hat.mp3","puny-little-hi-hat.mp3","switch-blade-hi-hat.mp3","rolthen-hi-hat.mp3","sandpaper-hi-hat.mp3","sizeable-nickel-hi-hat.mp3","sunset-shiv-hi-hat.mp3","tiny-tin-hi-hat.mp3","toothpaste-hi-hat.mp3","tries-too-hard-hi-hat.mp3","unsure-hi-hat.mp3","whiny-white-hi-hat.mp3","will-o-the-wisp-hi-hat.mp3"],snares=["bangle-snare.mp3","breathless-snare.mp3","bunk-snare.mp3","clap-like-snare.mp3","crunchy-peanut-spread-snare.mp3","crunchy-snare.mp3","dopey-snare.mp3","hardstyle-snare.mp3","heavy-snare.mp3","lofi-bump-snare.mp3","lofi-crunk-snare.mp3","orphan-snare.mp3","pathetic-snare.mp3","pumped-snare.mp3","punctual-snare.mp3","raw-cut-snare.mp3","smacky-snare.mp3","splatter-snare.mp3","thick-smack-snare.mp3","toy-snare.mp3","weak-snare.mp3","well-rounded-snare.mp3","smacky-popper-snare.mp3","spmock-snare.mp3","wrecked-scratch-snare.mp3","80s-snare.mp3","a-rim-snare.mp3","an-applaud-snare.mp3","assertive-snare.mp3","big-noise-boys-snare.mp3","boring-trap-snare.mp3","chasm-toys-snare.mp3","clurp-snare.mp3","crock-punch-snare.mp3","dinkleberg-snare.mp3","dinosaur-egg-snare.mp3","factual-snare.mp3","flat-80s-snare.mp3","hard-crunch-clap-snare.mp3","hot-cheetos-snare.mp3","lil-baby-snare.mp3","lofi-dunk-snare.mp3","loud-and-obnoxious-snare.mp3","minty-crunch-spread-snare.mp3","playground-pizzazz-snare.mp3","poignant-but-punctual-snare.mp3","questioning-snare.mp3","raspy-snare.mp3","roller-coaster-snare.mp3","say-what-snare.mp3","skrt-snare.mp3","sputnik-snare.mp3","thin-hollow-tin-snare.mp3","this-is-a-trash-snare.mp3","trapaholic-snare.mp3","unsure-snare.mp3","warehouse-clap-snare.mp3","wet-and-wide-clap-snare.mp3","wicked-work-snare.mp3","wooden-kitchen-snare.mp3"],kick_drums=["cut-you-up-kick.mp3","disruptive-kick.mp3","distinct-kick.mp3","pale-kick.mp3","prehistor-khick.mp3","pumpy-kick.mp3","punchy-kick.mp3","thumpy-kick.mp3","wide-and-weak-kick.mp3","a-thousand-leagues-kick.mp3","beatbox-kick.mp3","bounce-house-kick.mp3","bowling-kick.mp3","compact-kick.mp3","da-bump-kick.mp3","dashboard-kick.mp3","dat-frump-kick.mp3","dunk-kick.mp3","jingle-funk-kick.mp3","junky-kick.mp3","layering-kick.mp3","stomp-master-kick.mp3","thicc-kick.mp3","ugly-mother-fucking-kick.mp3","wet-n-wide-kick.mp3","whack-kick.mp3","whock-kick.mp3","bunt-cake-kick.mp3","clown-ball-kick.mp3","deep-thought-kick.mp3","dirt-drum-kick.mp3","dry-thump-kick.mp3","hufsty-muvly-kick.mp3","klown-wall-kick.mp3","kunk-kick.mp3","party-stomp-kick.mp3","scratch-the-kick.mp3","spam-dunk-kick.mp3","stocky-dork-kick.mp3","tasty-kick.mp3","thermal-kick.mp3","thirsty-kick.mp3","trashcan-jam-kick.mp3","well-mannered-kick.mp3"],sound_effects=["bicycle-bell.mp3","bottle-cap.mp3","cork-popping.mp3","drum-sticks.mp3","lighter-smack.mp3","raw-thump.mp3","star-twinkle.mp3","thawing-tap.mp3","wooden-chair.mp3","wooden-smack.mp3","gear-knife.mp3","techno-anger.mp3","techno-horror.mp3","techno-labor.mp3","techno-murder.mp3","breathy-crush.mp3","bumbo-drum.mp3","clam-clasp.mp3","clanglass.mp3","clinglass.mp3","croak-fog.mp3","curious-cowbell.mp3","ding-a-ling.mp3","doof-it-drum.mp3","drippy-cavern.mp3","dumbo-dumb.mp3","expensive-piece.mp3","gonzales-cowbell.mp3","hayllo-pop.mp3","hungo-done.mp3","ice-cream-shop-bell.mp3","ice-cream-shop-hell.mp3","interrupted-seduction-chimes.mp3","jp-charged.mp3","jungle-windows.mp3","michael-cera.mp3","micro-whistle.mp3","mini-hurt.mp3","mo-rock.mp3","mystic-beans.mp3","oak-frog.mp3","plain-cowbell.mp3","primo-primo.mp3","rim-bump.mp3","space-goop.mp3","staturatory-cowbell.mp3","sturdy-dent.mp3","swordplay.mp3","tan-drum.mp3","that-sticks-man.mp3","the-stiiiicks.mp3","tune-in-for-tines.mp3","vibrslope.mp3","wood-spark.mp3","worshade.mp3","worshe.mp3","worshit.mp3","worshown.mp3","yung-tamb.mp3","zovalon-4001.mp3","zovalon-4002.mp3","zovalon-4003.mp3"],sample_directories=[{directory:"sound-effects",sound_paths:sound_effects},{directory:"crash-cymbals",sound_paths:crash_cymbals},{directory:"ride-cymbals",sound_paths:ride_cymbals},{directory:"open-hi-hats",sound_paths:open_hi_hats},{directory:"closed-hi-hats",sound_paths:closed_hi_hats},{directory:"snares",sound_paths:snares},{directory:"snares",sound_paths:snares},{directory:"kick-drums",sound_paths:kick_drums}],sequence_sample_paths=[["samples/none.mp3"],["samples/none.mp3"],["samples/none.mp3"],["samples/none.mp3"],["samples/none.mp3"],["samples/none.mp3"],["samples/none.mp3"],["samples/none.mp3"]],selected_options=[],shared_sequences=[];function generate_pad(){for(var e=$(".pad"),t=1;t<9;t++)for(var a=1;a<9;a++){var s=$("<div>");s.addClass("pad_piece cursor_pointer"),s.attr({id:a+"-"+t,"data-state":"inactive"}),e.append(s)}generate_labels(),generate_select_options()}function generate_labels(){for(var e=["sound effect","crash cymbal","ride cymbal","open hi-hat","closed hi-hat","snare one","snare two","kick drum"],t=0;t<e.length;t++){var a='<li class="labels_item"><input class="change_sample_type cursor_pointer" type="button" value="⏣"><input class="sample_sample cursor_pointer" type="button" value="▶" onclick="sample_sample('+t+')"><label class="label">'+e[t]+"</label></li>";$(".labels").append(a)}}function generate_select_options(){fill_select_options(),setup_default_interface(),set_audio_elements()}function fill_select_options(){$(".selects .select option").remove();for(var e=0;e<sample_directories.length;e++){var t=$('.select[class*="'+sample_directories[e].directory.replace(/-/g,"_")+'"]');sample_directories[e].sound_paths=sample_directories[e].sound_paths.sort(function(e,t){return e<t?-1:t<e?1:0});for(var a=sample_directories[e].sound_paths,s=0;s<a.length;s++){var n=a[s],i=n.substring(0,n.length-4).replace(/-/g," ");t.append('<option value="'+n+'">'+i+"</option>")}}set_selected_options(),set_sample_labels()}function set_sample_labels(){$(".labels .labels_item").each(function(){var e=$(".selects .selects_item").eq($(this).index()).find(".select").attr("class").split(" ")[0],t=e.substring(0,e.length-7).replace(/_/g," ");$(this).find("label").text(t)})}function get_selected_options(){for(var e=0;e<$("body").find(".selects .select").length;e++)selected_options[e]=$(".selects .select").eq(e).find(":selected").val()}function set_selected_options(){for(var e=0;e<$("body").find(".selects .select").length;e++)$(".selects .select").eq(e).find('option[value="'+selected_options[e]+'"]').prop("selected",!0)}function setup_default_interface(){$(".randomization_checkbox").prop("checked",!0),$(".randomization_checkbox").attr("data-activated","true"),get_selected_options(),$(".randomization_checkboxes li:eq(0), .randomization_checkboxes li:eq(1)").css("width","-webkit-fill-available"),$(".randomization_checkboxes li:last").css("padding-right","166px"),$(".random_number_of_pads, .pseudorandom_number_of_pads, .random_options").prop("checked",!1),$(".random_number_of_pads, .pseudorandom_number_of_pads, .random_options").attr("data-activated","false"),set_shortcuts(),set_sequence_from_JSON('{"active_pieces":["2-1","6-1","1-2","2-4","3-5","4-5","6-5","7-5","5-7","1-8","8-8","14-1","16-1","13-7","18-1","22-1","17-2","18-4","19-5","20-5","22-5","23-5","21-7","17-8","24-8","30-1","32-1","31-4","26-5","29-7","31-7","27-8"],"name":"clean & simple - stacking test","sample_paths":["wooden-chair.mp3","time-cymbal.mp3","tribal-ride.mp3","meaty-hi-hat.mp3","firm-hi-hat.mp3","lofi-crunk-snare.mp3","well-rounded-snare.mp3","disruptive-kick.mp3"],"tempo":"198"}'),$("body").css("opacity","1.0")}function application_message(e){$(".application_message").text(e),$(".application_message").css({opacity:"1","z-index":"15"}),setTimeout(function(){$(".application_message").css({opacity:"0","z-index":"-1"})},3e3)}function show_shortcuts(){$(".shortcuts_overlay").css({opacity:"1","z-index":"2"})}function hide_shortcuts(){$(".shortcuts_overlay").css({opacity:"0","z-index":"-1"})}function set_shortcuts(){shortcut.add("t",function(){hide_shortcuts(),calculate_tempo()}),shortcut.add("r",function(){hide_shortcuts(),reset_tempo()}),shortcut.add("s",function(){hide_shortcuts();var e=parseInt($(".bpm_display").text().trim().substring(0,$(".bpm_display").text().trim().length-4));e<15?(e=15,application_message("tempo must be between 15 and 240 beats per minute")):240<e&&(e=240,application_message("tempo must be between 15 and 240 beats per minute")),$(".tempo_field").val(e)}),shortcut.add("c",function(){"-1"===$(".shortcuts_overlay").css("z-index")?show_shortcuts():"2"===$(".shortcuts_overlay").css("z-index")&&hide_shortcuts()}),shortcut.add("p",function(){$(".play_sequence").click()}),shortcut.add("x",function(){$(".clear_selections").click()}),shortcut.add("z",function(){$(".randomize").click()}),shortcut.add("m",function(){hide_shortcuts(),$(".share_sequence").click()}),shortcut.add("j",function(){copy_sequence_JSON()})}function remove_shortcuts(){shortcut.remove("r"),shortcut.remove("t"),shortcut.remove("s"),shortcut.remove("c"),shortcut.remove("p"),shortcut.remove("x"),shortcut.remove("z"),shortcut.remove("m")}function activate_piece(n){n.css({background:"white","border-radius":"8px"}),n.attr({"data-state":"active"}),activated_pad_pieces++;var i=0,o=[];n.parents(".pad:eq(0)").find('.pad_piece[id^="'+n.attr("id").substring(0,n.attr("id").indexOf("-"))+'"]').each(function(){if("active"==n.attr("data-state")){var e=parseInt(n.attr("id").split("-")[1]),t=$(".select").eq(e-1),a=t.attr("class").split(" ")[0],s=a.substring(0,a.length-7).replace(/_/g,"-");o[i]="samples/"+s+"/"+t.find("option:selected").text().replace(/ /g,"-")+".mp3",i++}});var e=parseInt(n.attr("id").substring(0,n.attr("id").indexOf("-")))-1;sequence_sample_paths[e]=o}function deactivate_piece(e){e.css({background:"aliceblue","border-radius":"2px"}),e.attr({"data-state":"inactive"}),activated_pad_pieces--;var t=parseInt(e.attr("id").substring(0,e.attr("id").indexOf("-")))-1,a=parseInt(e.attr("id").split("-")[1]),s=$(".select").eq(a-1),n=s.attr("class").split(" ")[0],i="samples/"+n.substring(0,n.length-7).replace(/_/g,"-")+"/"+s.find("option:selected").text().replace(/ /g,"-")+".mp3",o=sequence_sample_paths[t].indexOf(i);-1<o&&(1<sequence_sample_paths[t].length?sequence_sample_paths[t].splice(o,1):sequence_sample_paths[t][0]="samples/none.mp3")}function reorder_pad_pieces(){for(var e=0;e<$("body").find(".pad").length;e++)for(var t=$(".pad").eq(e),a=1;a<9;a++)for(var s=1;s<9;s++){var n=t.find('.pad_piece[id$="'+a+'"]').eq(s-1);n.attr({id:s+8*e+"-"+n.attr("id").split("-")[1]})}$(".sequence_flow_arrow").remove(),$(".duplicate_pad").css("display","initial");for(var i=0;i<$("body").find(".duplicate_pad").length;i++)$(".duplicate_pad").eq(i).val("duplicate pad "+(i+1)),0<i&&($(".duplicate_pad").eq(i-1).parents(".pad:eq(0)").append('<p class="sequence_flow_arrow" style="position: absolute; font-size: 20px; margin: auto; margin-left: 166.5px; margin-top: 136px; color: rgba(00, 00, 00, 0.1);">⇨</p>'),0==$(".pad:eq(1)").find(".remove_all_pads").length&&($(".remove_all_pads").remove(),$(".pad:eq(1)").append('<input class="remove_all_pads pad_manipulator cursor_pointer box-shadowed-hover" type="button" value="remove all pads">')),31==i&&$(".duplicate_pad").css("display","none"));var o=8*$("body").find(".pad").length;sequence_sample_paths.length=o;for(i=0;i<o;i++){var c=["samples/"],r=0;$('.pad_piece[id^="'+(i+1)+'-"][data-state="active"]').each(function(){var e=$(this).attr("id").split("-")[1],t=$(".selects .select").eq(e-1),a=t.attr("class").split(" ")[0],s=a.substring(0,a.length-7).replace(/_/g,"-");c[r]="samples/"+s+"/"+t.find("option:selected").val(),sequence_sample_paths[i]=c,r++}),0==r&&(sequence_sample_paths[i]="samples/none.mp3")}}$("body").on("click",".close",function(){set_shortcuts(),$(this).parents("overlay").css({opacity:"0","z-index":"-1"}),$(this).parents("overlay").parent().css({"overflow-y":"scroll"})}),$(document).ready(function(){$('input[type="text"]').focusin(function(){remove_shortcuts()}),$('input[type="text"]').focusout(function(){set_shortcuts()}),$(".never_mind").click(function(){$(this).parents(".overlay:eq(0)").css({opacity:"0"});var e=$(this);setTimeout(function(){e.parents(".overlay:eq(0)").css({"z-index":"-2"})},250),$(this).parents(".overlay:eq(0)").hasClass("sample_swap_overlay")?$(this).parents(".overlay:eq(0)").parent().css({overflow:"visible"}):$(this).parents(".overlay:eq(0)").parent().css({overflow:"scroll"})})}),$(document).ready(function(){$(".pad").on("click",".duplicate_pad",function(e){if($("body").find(".pad").length<=31){var t=$(this).parents(".pad:eq(0)").clone(!0,!0);t.css({"margin-left":"35px"}),t.prepend('<input class="remove_pad pad_manipulator cursor_pointer" type="button" value="remove">'),$(this).parents(".pad:eq(0)").after(t),$("body").find(".duplicate_sequence:not(:first), .remove_all_pads:not(:first)").remove(),reorder_pad_pieces(),t.find(".pad_piece").each(function(){"active"===$(this).attr("data-state")?$(this).css({opacity:"1.0",background:"white"}):$(this).css({opacity:"1.0",background:"aliceblue"})})}else application_message("sequence cannot contain more than 32 drum pads")}),$(".pad").on("click",".duplicate_sequence",function(e){if($("body").find(".pad").length<=16){var t=[];$(".pad").each(function(){t.push($(this).clone(!0,!0))});for(var a=0;a<t.length;a++)t[a].css({"margin-left":"35px"}),t[a].prepend('<input class="remove_pad pad_manipulator cursor_pointer" type="button" value="remove">'),$(".pad:last").after(t[a]);$("body").find(".duplicate_sequence:not(:first), .remove_all_pads:not(:first)").remove(),reorder_pad_pieces()}else application_message("sequence cannot contain more than 32 drum pads")}),$(".pad").on("click",".pad_piece",function(e){$(this).parents(".pad:eq(0)").index();($(this).css("animation","unset"),"2px"==$(this).css("border-radius"))?$(this).parents(".pad:eq(0)").find('.pad_piece[id^="'+$(this).attr("id").substring(0,$(this).attr("id").indexOf("-"))+'"][data-state="active"]').length<=3?activate_piece($(this)):application_message("sorry, but you may only have four samples per column"):"8px"==$(this).css("border-radius")&&deactivate_piece($(this))}),$(".pad").on("click",".remove_all_pads",function(e){sequence_running&&$(".play_sequence").click(),$("body").find(".pad:not(:first)").remove(),reorder_pad_pieces()}),$(".pad").on("click",".remove_pad",function(e){sequence_running&&$(".play_sequence").click(),$(this).parents(".pad:eq(0)").remove(),reorder_pad_pieces()}),$(".selects").on("change",".select",function(e){get_selected_options(),reorder_pad_pieces(),set_audio_elements()})}),$(document).ready(function(){generate_pad()}),$(document).ready(function(){$(".randomize").click(function(){if("true"==$(".random_options").attr("data-activated")&&$(".randomization_checkbox:not(:last)").each(function(){1==Math.floor(2*Math.random())+1&&$(this).click()}),"true"==$(".random_number_of_pads").attr("data-activated")){sequence_running&&($(".play_sequence").click(),current_column_in_sequence=1);var e=[1,2,2,3,4,4,6,8,8,16],t=0;$(".pad:not(:first)").each(function(){$(this).remove()}),t="true"==$(".pseudorandom_number_of_pads").attr("data-activated")?e[Math.floor(Math.random()*e.length)]-1:Math.floor(16*Math.random())+1;for(var a=0;a<t;a++)setTimeout(function(){$(".duplicate_pad:last").click()},250*a);$(".remove_all_pads:not(:first)").remove()}if("true"==$(".random_sample_selection").attr("data-activated")){selected_options=[];for(a=0;a<$("body").find(".selects .selects_item .select").length;a++){var s=$(".selects .select:eq("+a+")").find("option");s.eq(~~(Math.random()*s.length)).prop("selected",!0),selected_options.push($(".selects .select").eq(a).find("option:selected").val()),reorder_pad_pieces(),set_audio_elements()}}if("true"==$(".random_pad_arrangement").attr("data-activated")&&($(".clear_selections").click(),$(".pad").each(function(){for(var e=parseInt($(this).find(".pad_piece:first").attr("id").substring(0,$(this).find(".pad_piece:last").attr("id").indexOf("-"))),t=parseInt($(this).find(".pad_piece:last").attr("id").substring(0,$(this).find(".pad_piece:last").attr("id").indexOf("-"))),a=0;a<20;a++){var s=Math.floor(Math.random()*(t-e+1))+e,n=Math.floor(8*Math.random())+1,i=$("#"+s+"-"+n);$(this).find('.pad_piece[id^="'+i.attr("id").substring(0,i.attr("id").indexOf("-"))+'"][data-state="active"]').length<4&&i.click()}})),"true"==$(".random_tempo").attr("data-activated")){var n=[72,74,76,78,80,82,86,87,88,89,90,92,96,98,100,105,110,112,115,116,118,120,125,128,130,132,134,136,138,140,142,145,146,148];"true"==$(".pseudorandom_tempo").attr("data-activated")?$(".tempo_field").val(n[Math.floor(Math.random()*n.length)]):$(".tempo_field").val(Math.floor(179*Math.random())+62),calculate(parseInt($(".tempo_field").val()))}reorder_pad_pieces()}),$(".randomization_checkbox").click(function(){"false"===$(this).attr("data-activated")?$(this).attr("data-activated","true"):$(this).attr("data-activated","false"),"false"==$(".random_number_of_pads").attr("data-activated")&&($(".pseudorandom_number_of_pads").prop("checked",!1),$(".pseudorandom_number_of_pads").attr("data-activated","false")),"false"==$(".random_tempo").attr("data-activated")&&($(".pseudorandom_tempo").prop("checked",!1),$(".pseudorandom_tempo").attr("data-activated","false"))}),$(".random_shared_sequence").click(function(){var e=Math.floor(Math.random()*$("body").find(".shared_sequence").length)+1;$(".shared_sequence").eq(e-1).click()})}),$(document).ready(function(){var s=$(".change_sample_type:first");$("body").on("click",".change_sample_type",function(){s=$(this),$(".sample_swap_overlay").css({opacity:"1","z-index":"2"})}),$(".swap_sample_type").click(function(){var e=$(".selects .select").eq(s.parents("li:eq(0)").index());e.attr("class",$(".sample_swap_select").find(":selected").val()+" select cursor_pointer");var t=e.attr("class").split(" ")[0],a=[];"sound_effects_select"==t?a=sound_effects:"crash_cymbals_select"==t?a=crash_cymbals:"ride_cymbals_select"==t?a=ride_cymbals:"open_hi_hats_select"==t?a=open_hi_hats:"closed_hi_hats_select"==t?a=closed_hi_hats:"snares_select"==t?a=snares:"kick_drums_select"==t&&(a=kick_drums),t=t.substring(0,t.length-7).replace("_","-"),sample_directories[e.parent().index()].directory=t,sample_directories[e.parent().index()].sound_paths=a,sequence_sample_paths[e.parent().index()]=sample_directories[e.parent().index()].sound_paths[0],fill_select_options(),set_sample_labels(),get_selected_options(),reorder_pad_pieces(),set_audio_elements(),$(".sample_swap_overlay").css({opacity:"0","z-index":"-1"})})});var current_user="",saved_sequences=[];function load_user_sequences(e){database.ref("users/"+e).on("value",function(e){saved_sequences=e.val()}),null!=saved_sequences?saved_sequences.forEach(function(e){update_saved_sequences_container(e)}):application_message("user does not exist")}function save_current_sequence(){if(0<$(".saved .name_sequence").val().length){database.ref("users/"+$(".load_user_sequences_input").val()).on("value",function(e){saved_sequences=e.val()}),null!=saved_sequences?(saved_sequences.push(convert_sequence_to_JSON()),saved_sequences.forEach(function(e){update_saved_sequences_container(e)})):(saved_sequences=[]).push(convert_sequence_to_JSON());database.ref("users/"+$(".load_user_sequences_input").val()).update(saved_sequences,function(e){e?console.log("could not update saved sequences for "+$(".load_user_sequences_input").val()):console.log("updated saved sequences for "+$(".load_user_sequences_input").val())}),load_user_sequences($(".load_user_sequences_input").val())}}function update_saved_sequences_container(e){$(".saved_sequences").empty(),$(".saved_sequences").append('<label class="label">sequences saved by '+$(".load_user_sequences_input").val()+"<br>⬇</label>"),saved_sequences.forEach(function(e){var t=JSON.stringify(e);$(".saved_sequences").append('<input class="saved_sequence cursor_pointer box-shadowed-hover" type="button" data-json="'+t+'" value="'+e.name+'">')})}function share_sequence_data(){shared_sequences.push(convert_sequence_to_JSON()),update_shared_sequences_container(new_JSON_object),update_firebase()}function convert_sequence_to_JSON(){$(".tempo_field").val();var e=[];$("body").find('.pad_piece[data-state="active"]').each(function(){e.push($(this).attr("id"))}),$(".name_sequence").val("")}function update_firebase(){database.ref().set({shared_sequences:shared_sequences})}function update_shared_sequences_container(e){$(".shared_sequences").empty(),$(".shared_sequences").append('<label class="label">browse recently shared sequences<br>⬇</label>');var t=shared_sequences.length,a=t-25;t<25&&(a=0);for(var s=shared_sequences.length-1;a<=s;s--){var n=JSON.stringify(shared_sequences[s]);$(".shared_sequences").append('<input class="shared_sequence cursor_pointer box-shadowed-hover" type="button" data-json="'+n+'" value="'+shared_sequences[s].name+'">')}}function set_sequence_from_JSON(e){sequence_running&&($(".play_sequence").click(),current_column_in_sequence=1);var t=JSON.parse(e),a=t.active_pieces[t.active_pieces.length-1],s=a.substring(0,a.indexOf("-")),n=(parseInt(s)-1)/8,i=Math.floor(n);current_sequence_name=t.name,selected_options=t.sample_paths,$(".pad:not(:first)").remove(),$(".clear_selections").click();for(var o=0;o<i;o++)$(".pad:first .duplicate_pad").click();for(o=0;o<t.active_pieces.length;o++)$("#"+t.active_pieces[o]).css({opacity:"1.0",background:"white","border-radius":"8px"}),$("#"+t.active_pieces[o]).attr("data-state","active");$('.pad_piece[data-state="inactive"]').css({opacity:"1.0",background:"aliceblue","border-radius":"2px","box-shadow":"none"});for(o=0;o<t.sample_paths.length;o++){sound_effects.includes(selected_options[o])?(sample_directories[o].directory="sound-effects",sample_directories[o].sound_paths=sound_effects):crash_cymbals.includes(selected_options[o])?(sample_directories[o].directory="crash-cymbals",sample_directories[o].sound_paths=crash_cymbals):ride_cymbals.includes(selected_options[o])?(sample_directories[o].directory="ride-cymbals",sample_directories[o].sound_paths=ride_cymbals):open_hi_hats.includes(selected_options[o])?(sample_directories[o].directory="open-hi-hats",sample_directories[o].sound_paths=open_hi_hats):closed_hi_hats.includes(selected_options[o])?(sample_directories[o].directory="closed-hi-hats",sample_directories[o].sound_paths=closed_hi_hats):snares.includes(selected_options[o])?(sample_directories[o].directory="snares",sample_directories[o].sound_paths=snares):kick_drums.includes(selected_options[o])?(sample_directories[o].directory="kick-drums",sample_directories[o].sound_paths=kick_drums):application_message("stop trying to break my shit"),$(".selects .select").eq(o).attr("class",sample_directories[o].directory.replace(/-/g,"_")+"_select select cursor_pointer")}selected_options=t.sample_paths,fill_select_options(),$(".tempo_field").val(t.tempo),calculated_tempo=parseInt($(".tempo_field").val()),$(".currently_loaded_sequence").text("recently loaded: "+t.name),reorder_pad_pieces(),set_audio_elements()}function copy_sequence_JSON(){var e=JSON.stringify(convert_sequence_to_JSON());new ClipboardJS(".copy_sequence_JSON"),$(".copy_sequence_JSON").attr("data-clipboard-text",e),setTimeout(function(){$(".copy_sequence_JSON").click()},100)}$(document).ready(function(){$("body").on("click",".saved_sequence",function(){set_sequence_from_JSON($(this).attr("data-json"))}),$("body").on("click",".load_user_sequences",function(){0<$(".load_user_sequences_input").val().length?load_user_sequences($(".load_user_sequences_input").val()):application_message("please enter a user to load sequences from")}),$("body").on("click",".save_sequence",function(){0<$("body").find('.pad_piece[data-state="active"]').length?1<$(".load_user_sequences_input").val().length?($(this).parents(".saved:eq(0)").find(".name_sequence_overlay").css({opacity:"1","z-index":"2"}),$(".saved").css({"overflow-y":"hidden"}),$(this).parents(".saved:eq(0)").find(".name_sequence").focusin()):application_message("please enter a user to save your sequence for"):application_message("cannot save an empty sequence")}),$(".name_and_save_sequence").click(function(){var e=$(this).parents(".saved:eq(0)").find(".name_sequence");e.val()&&-1==e.val().indexOf("'")&&-1==e.val().indexOf('"')&&-1==e.val().indexOf("`")?(current_sequence_name=e.val(),save_current_sequence(),$(this).parents(".saved:eq(0)").find(".name_sequence_overlay").css({opacity:"0","z-index":"-2"}),$(".saved").css({"overflow-y":"scroll"})):application_message("please enter a name for your sequence")})}),database.ref().on("value",function(e){for(var t=(shared_sequences=e.val().shared_sequences).length-1;0<t;t--)update_shared_sequences_container(shared_sequences[t])},function(e){console.log("errors handled: "+e.code)}),$(document).ready(function(){$("body").on("click",".shared_sequence",function(){set_sequence_from_JSON($(this).attr("data-json"))}),$("body").on("click",".share_sequence",function(){0<$("body").find('.pad_piece[data-state="active"]').length?($(this).parents(".sharing:eq(0)").find(".name_sequence_overlay").css({opacity:"1","z-index":"2"}),$(".sharing").css({"overflow-y":"hidden"}),$(this).parents(".sharing:eq(0)").find(".name_sequence").focusin()):application_message("cannot share an empty sequence")}),$("body").on("click",".name_and_share_sequence",function(){1<$(".name_sequence").val().length&&-1==$(".name_sequence").val().indexOf("'")&&-1==$(".name_sequence").val().indexOf('"')&&-1==$(".name_sequence").val().indexOf("`")?(current_sequence_name=$(".name_sequence").val(),share_sequence_data(),set_shortcuts(),$(".name_sequence_overlay").css({opacity:"0","z-index":"-1"}),$(".sharing").css({"overflow-y":"scroll"})):application_message("please enter a name for your sequence")})});var start_time=new Date,tempo=0,beats=0;function calculate_tempo(){0==beats&&(start_time=Date()),beats++,update_tempo()}function update_tempo(){var e="0";if(1<beats){var t=(new Date).getTime()-start_time.getTime();e=((beats-1)/(t/6e4)).toFixed(2)}else 1==beats&&(e=1,start_time=new Date);$("#bpm_display").html(Math.round(e)+" bpm")}function reset_tempo(){start_time=null,beats=0,update_tempo()}$(document).ready(function(){$(".what_is_this").click(function(e){e.preventDefault(),$("body").find("h1, .github_button, .controls *, .sharing, .tempo, .randomization, .labels, .selects, .pad, .saved").css("opacity","0.2"),$(".walkthrough_overlay").css({"z-index":"5",opacity:"1.0"})})});var walkthrough_stages=["play sequence","shared sequences","sample selection","tempo","pad pieces","pad manipulation","sequence manipulation","clearing selections","randomization","finished walkthrough","close walkthrough"],current_stage="play sequence";function fire(){advance(walkthrough_stages[walkthrough_stages.indexOf(current_stage)])}function advance(e){"play sequence"==e?walkthrough_play_sequence():"shared sequences"==e?walkthrough_shared_sequences():"sample selection"==e?walkthrough_sample_selection():"tempo"==e?walkthrough_tempo():"pad pieces"==e?walkthrough_pad_pieces():"clearing selections"==e?walkthrough_clearing_selections():"pad manipulation"==e?walkthrough_pad_manipulation():"sequence manipulation"==e?walkthrough_sequence_manipulation():"randomization"==e?walkthrough_randomization():"finished walkthrough"==e?walkthrough_finished():"close walkthrough"==e&&close_walkthrough_options()}function walkthrough_play_sequence(){$(".walkthrough_text").text("use this button to play the drum sequence that you currently have loaded"),$(".advance_walkthrough").val("next"),$(".play_sequence").css({animation:"walkthrough_float 1s ease-in-out infinite",opacity:"1"}),current_stage="shared sequences"}function walkthrough_shared_sequences(){$(".walkthrough_text").text("with the sequence sharing module, you can load and edit drum sequences that have been shared by others, or share your own sequence"),$(".play_sequence").css({animation:"walkthrough_float 2s ease-in-out infinite"}),$(".shared_sequence:first").css({animation:"walkthrough_float 1s ease-in-out infinite"}),$("body").find(".sharing, .sharing .shared_sequences").css({opacity:"1.0"}),$("body").find("h1, .github_button, .controls, .tempo, .randomization, .labels, .selects, .pad").css("opacity","0.2"),current_stage="sample selection"}function walkthrough_sample_selection(){$(".walkthrough_text").text("use this module to choose a set of samples that sounds good to your ears"),$(".shared_sequence:first").css({animation:"unset"}),$(".labels, .selects").css({opacity:"1.0",animation:"walkthrough_samples 2s ease-in-out infinite"}),$("body").find("h1, .github_button, .controls, .sharing, .randomization, .pad").css("opacity","0.2"),current_stage="tempo"}function walkthrough_tempo(){$(".walkthrough_text").text("set the tempo of the drum sequence via the tempo field or using keyboard commands (tempo is calculated as beats per minute)"),$(".labels, .selects").css("animation","unset"),$(".tempo_field, .tempo").css({animation:"walkthrough_float 2s ease-in-out infinite"}),$(".controls, .tempo, .tempo_field").css({opacity:"1.0"}),$("body").find(".tempo, .tempo_field").css({opacity:"1.0"}),$("body").find('h1, .github_button, .controls *:not(".tempo_field"), .sharing, .randomization, .labels, .selects, .pad').css("opacity","0.2"),current_stage="pad pieces"}function walkthrough_pad_pieces(){$(".walkthrough_text").text("activate or deactivate pad pieces to edit your drum sequence. the rows correspond to each sample type and the columns fire on each beat"),$(".tempo_field, .tempo").css("animation","unset"),$(".pad, .pad *").css({opacity:"1.0"}),$('.pad_piece[data-state="active"]').css({opacity:"1.0",animation:"walkthrough_pad_pieces 2s ease-in-out infinite"}),$("body").find("h1, .github_button, .controls, .sharing, .duplicate_sequence, .remove_all_pads, .remove_pad, .duplicate_pad, .tempo, .randomization, .labels, .selects").css("opacity","0.2"),current_stage="pad manipulation"}function walkthrough_pad_manipulation(){$(".walkthrough_text").text("you can remove or duplicate individual drum pads by clicking on the options directly above each pad"),$(".pad_piece").css("animation","unset"),$(".pad, .remove_pad, .duplicate_pad").css({opacity:"1.0"}),$("body").find("h1, .github_button, .controls, .sharing, .duplicate_sequence, .remove_all_pads, .tempo, .randomization, .labels, .selects").css("opacity","0.2"),current_stage="sequence manipulation"}function walkthrough_sequence_manipulation(){$(".walkthrough_text").text("you can also duplicate the entire sequence (up to 16 pads (maximum sequence size is 32 pads)), or remove all drum pads but the first"),$(".remove_pad, .duplicate_pad").css("animation","unset"),$(".pad, .duplicate_sequence, .remove_all_pads").css({opacity:"1.0"}),$(".duplicate_sequence, .remove_all_pads").css({animation:"walkthrough_float 2s ease-in-out infinite"}),$("body").find("h1, .github_button, .controls, .sharing, .duplicate_pad, .remove_pad, .tempo, .randomization, .labels, .selects").css("opacity","0.2"),current_stage="clearing selections"}function walkthrough_clearing_selections(){$(".walkthrough_text").text("to deactivate all of the active pad pieces in your sequence, use this button"),$(".duplicate_sequence, .remove_all_pads").css("animation","unset"),$(".controls, .clear_selections").css({opacity:"1.0"}),$(".clear_selections").css({animation:"walkthrough_pad_pieces 2s ease-in-out infinite, walkthrough_float 2s ease-in-out infinite"}),$("body").find('h1, .github_button, .controls *:not(".clear_selections"), .sharing, .duplicate_sequence, .remove_all_pads, .remove_pad, .duplicate_pad, .tempo, .randomization, .labels, .selects, .pad').css("opacity","0.2"),current_stage="randomization"}function walkthrough_randomization(){$(".walkthrough_text").text("you can randomize your sequence using this module. there are plenty of options to choose from"),$(".clear_selections").css("animation","unset"),$(".randomization").css({opacity:"1.0"}),$(".randomization").css({animation:"walkthrough_float_shadowless 2s ease-in-out infinite"}),$("body").find("h1, .github_button, .controls, controls .sharing, .duplicate_sequence, .remove_all_pads, .remove_pad, .duplicate_pad, .tempo, .labels, .selects, .pad").css("opacity","0.2"),current_stage="finished walkthrough"}function walkthrough_finished(){$(".walkthrough_text").text("and that's basically it! I think you can take it from here"),$(".randomization").css({animation:"unset",opacity:"0.2"}),$(".advance_walkthrough").val("done"),current_stage="close walkthrough"}function close_walkthrough_options(){$(".walkthrough_overlay").css({opacity:"0","z-index":"-1"}),$(".clear_selections, .randomization, .duplicate_sequence, .remove_all_pads, .clear_selections, .tempo_field, .tempo, .shared_sequence, .labels, .selects, .remove_pad, .duplicate_pad, .pad_piece").css("animation","unset"),set_sequence_from_JSON('{"active_pieces":["2-1","6-1","1-2","2-4","3-5","4-5","6-5","7-5","5-7","1-8","8-8","14-1","16-1","13-7","18-1","22-1","17-2","18-4","19-5","20-5","22-5","23-5","21-7","17-8","24-8","30-1","32-1","31-4","26-5","29-7","31-7","27-8"],"name":"clean & simple - stacking test","sample_paths":["wooden-chair.mp3","time-cymbal.mp3","tribal-ride.mp3","meaty-hi-hat.mp3","firm-hi-hat.mp3","lofi-crunk-snare.mp3","well-rounded-snare.mp3","disruptive-kick.mp3"],"tempo":"198"}'),setTimeout(function(){$("body").find('h1, .github_button, .controls, .controls *, .saved, .sharing, .sharing *:not(".name_sequence_overlay"), .duplicate_sequence, .remove_all_pads, .remove_pad, .duplicate_pad, .randomization, .tempo, .labels, .selects, .pad, .currently_loaded_sequence').css("opacity","1.0")}),setTimeout(function(){$(".advance_walkthrough").val("start walkthrough"),$(".walkthrough_text").text("click 'start walkthrough' below for a visual tutorial on how to use padseek"),current_stage="play sequence"},1e3)}